(function(){

/**
 * Check if we need to do an IE hack.
 */

var bug = !Object.defineProperty;

/**
 * If we need to do an IE hack, see if we
 * really can by seeing if we can override `toLocaleString`.
 *
 * @see http://stackoverflow.com/questions/17934888/how-to-add-non-enumerable-property-in-javascript-for-ie8/17935125#17935125
 */

if (bug) {
  for (var k in { toLocaleString: 3 }) {
    if (k === 'toLocaleString') {
      bug = false;
    }
  }
}

/**
 * get/set id.
 */

if (bug) {
  var get = function get(obj){
    return obj.toLocaleString || set(obj);
  };

  var set = function set(obj){
    return obj.toLocaleString = get.id++;
  };
} else {
  var get = function get(obj){
    return obj.__id__ || set(obj);
  };

  var set = function set(obj){
    return Object.defineProperty(obj, '__id__', { enumerable: false, value: get.id++ }) && obj.__id__;
  };
}

/**
 * Incremented `id`.
 */

get.id = 1;

/**
 * Get id from object.
 */

if ('undefined' === typeof module) {
  this.objectId = get;
} else {
  module.exports = get;
}

})();